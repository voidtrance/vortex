=============== Log rollover at Thu Jan 11 07:46:18 2024 ===============
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 07:46:18 2024 (1704987978.8 259055.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 07:47:40 2024 (1704988060.8 259137.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 07:55:13 2024 (1704988513.9 259590.5)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 07:56:08 2024 (1704988568.4 259644.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 07:58:14 2024 (1704988694.7 259771.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Unhandled exception during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 194, in connect_uart
    stk500v2_leave(serial_dev, self.reactor)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 343, in stk500v2_leave
    ser.read(4096)
  File "/usr/lib/python3.11/site-packages/serial/serialposix.py", line 595, in read
    raise SerialException(
serial.serialutil.SerialException: device reports readiness to read but returned no data (device disconnected or multiple access on port?)
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 08:00:51 2024 (1704988851.4 259927.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 08:55:17 2024 (1704992117.1 263193.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 08:56:50 2024 (1704992210.2 263286.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 08:57:17 2024 (1704992237.2 263313.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:02:10 2024 (1704992530.6 263607.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:02:43 2024 (1704992563.2 263639.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:44:10 2024 (1704995050.4 266127.0)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:44:26 2024 (1704995066.6 266143.1)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:44:54 2024 (1704995094.3 266170.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:47:19 2024 (1704995239.7 266316.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:48:14 2024 (1704995294.6 266371.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:50:01 2024 (1704995401.5 266478.1)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:52:02 2024 (1704995522.6 266599.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 09:57:31 2024 (1704995851.6 266928.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:00:01 2024 (1704996001.0 267077.6)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:00:43 2024 (1704996043.7 267120.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:01:15 2024 (1704996075.1 267151.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:02:40 2024 (1704996160.7 267237.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:04:16 2024 (1704996256.8 267333.4)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:05:17 2024 (1704996317.6 267394.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:05:47 2024 (1704996347.3 267423.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:11:51 2024 (1704996711.7 267788.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:14:46 2024 (1704996887.0 267963.5)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:15:46 2024 (1704996947.0 268023.5)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:19:31 2024 (1704997171.2 268247.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:19:56 2024 (1704997196.8 268273.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:20:16 2024 (1704997216.1 268292.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:20:47 2024 (1704997247.5 268324.0)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:21:26 2024 (1704997286.8 268363.4)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:47:37 2024 (1704998857.6 269934.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:48:28 2024 (1704998908.8 269985.4)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:55:47 2024 (1704999347.1 270423.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:56:02 2024 (1704999362.1 270438.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:58:21 2024 (1704999501.7 270578.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:59:13 2024 (1704999553.8 270630.4)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 10:59:35 2024 (1704999575.8 270652.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:02:04 2024 (1704999724.3 270800.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:03:14 2024 (1704999794.7 270871.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:16:05 2024 (1705000565.8 271642.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:24:39 2024 (1705001079.3 272155.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:25:44 2024 (1705001145.0 272221.5)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:27:26 2024 (1705001246.7 272323.2)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:28:43 2024 (1705001323.4 272400.0)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:30:31 2024 (1705001431.7 272508.3)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:31:40 2024 (1705001500.3 272576.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:31:58 2024 (1705001518.2 272594.7)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:32:38 2024 (1705001558.5 272635.1)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:33:59 2024 (1705001639.3 272715.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 11:36:21 2024 (1705001781.9 272858.5)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
MCU error during connect
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 801, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
            ^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/mcu.py", line 806, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../.config(1602): Wed Jun 14 12:09:17 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
# CONFIG_MACH_atmega2560 is not set
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
CONFIG_MACH_atmega644p=y
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega644p"
CONFIG_AVRDUDE_PROTOCOL="arduino"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_20000000 is not set
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
CONFIG_SERIAL_PORT=0
CONFIG_SIMULAVR=y
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.dict
No build file /home/dharalanov/voron/nas/Git/Voron/klipper/klippy/../out/klipper.elf
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59'
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:30:39 2024 (1705019439.3 290515.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:33:17 2024 (1705019597.1 290673.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:33:46 2024 (1705019626.8 290703.4)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 263, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 320, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 255, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:35:12 2024 (1705019712.5 290789.1)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:35:43 2024 (1705019743.3 290819.9)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['./klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:36:33 2024 (1705019793.4 290870.0)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
Starting Klippy...
Args: ['./klippy/klippy.py', '/home/dharalanov/voron/nas/Git/gcode-emulator/test_klipper.cfg', '-l', '/home/dharalanov/voron/nas/Git/gcode-emulator/klipper.log']
Git version: 'cc00cc59-dirty'
Modified files: klippy/serialhdl.py
Branch: adaptive-bed-mesh
Remote: origin
Tracked URL: git@github.com:voidtrance/klipper.git
CPU: 16 core Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz
Python: '3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)]'
Start printer at Thu Jan 11 16:38:28 2024 (1705019908.1 290984.8)
===== Config file =====
[printer]
kinematics = cartesian
max_velocity = 200
max_accel = 200

[mcu]
serial = /tmp/klipper_uds
restart_method = command

[stepper_x]
step_pin = PD7
dir_pin = !PC5
enable_pin = !PD6
endstop_pin = ^PC2
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
position_min = 0
position_max = 300
position_endstop = 0

[stepper_y]
step_pin = PC6
dir_pin = !PC7
enable_pin = !PD6
endstop_pin = ^PC3
microsteps = 32
rotation_distance = 40
position_endstop = 0
position_max = 300
position_min = 0

[stepper_z]
step_pin = PB3
dir_pin = PB2
enable_pin = !PA5
endstop_pin = ^PC4
microsteps = 32
rotation_distance = 8
position_endstop = 0.0
position_max = 250
position_min = -2
=======================
mcu 'mcu': Starting serial connect
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 264, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 321, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 256, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 264, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 321, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 256, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Timeout on connect
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 264, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 321, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 256, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
b'Got EOF when reading from device'
mcu 'mcu': Timeout on connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
mcu 'mcu': Wait for identify_response
Traceback (most recent call last):
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 264, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 321, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 256, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/dharalanov/voron/nas/Git/Voron/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Serial connection closed
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /tmp/klipper_uds: [Errno 2] No such file or directory: '/tmp/klipper_uds'
